{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\OneDrive\\\\Desktop\\\\janai\\\\frontend\\\\src\\\\pages\\\\FileComplaint.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport { complaintAPI, aiAPI } from '../services/api';\nimport './FileComplaint.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FileComplaint = ({\n  user\n}) => {\n  _s();\n  const [formData, setFormData] = useState({\n    address: {\n      houseNo: '',\n      addressLine1: '',\n      addressLine2: '',\n      pinCode: ''\n    },\n    issueDescription: '',\n    category: '',\n    region: ''\n  });\n  const [voiceInput, setVoiceInput] = useState('');\n  const [isRecording, setIsRecording] = useState(false);\n  const [voiceLanguage, setVoiceLanguage] = useState(() => {\n    // Auto-detect language based on browser settings\n    const browserLang = navigator.language || navigator.userLanguage;\n    if (browserLang.startsWith('hi')) return 'hi-IN';\n    if (browserLang.startsWith('en')) return 'en-IN';\n    if (browserLang.startsWith('gu')) return 'gu-IN';\n    if (browserLang.startsWith('bn')) return 'bn-IN';\n    if (browserLang.startsWith('ta')) return 'ta-IN';\n    if (browserLang.startsWith('te')) return 'te-IN';\n    if (browserLang.startsWith('mr')) return 'mr-IN';\n    if (browserLang.startsWith('pa')) return 'pa-IN';\n    if (browserLang.startsWith('kn')) return 'kn-IN';\n    return 'hi-IN'; // Default to Hindi\n  });\n  const [selectedImages, setSelectedImages] = useState([]);\n  const [aiDraft, setAiDraft] = useState(null);\n  const [isGeneratingDraft, setIsGeneratingDraft] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [reviewConfirmed, setReviewConfirmed] = useState(false);\n  const [success, setSuccess] = useState(null);\n  const [error, setError] = useState('');\n  const fileInputRef = useRef(null);\n  const recognitionRef = useRef(null);\n\n  // Initialize speech recognition\n  const initializeSpeechRecognition = () => {\n    if (!recognitionRef.current) {\n      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n      console.log('Speech Recognition available:', !!SpeechRecognition);\n      if (SpeechRecognition) {\n        recognitionRef.current = new SpeechRecognition();\n        recognitionRef.current.continuous = true;\n        recognitionRef.current.interimResults = true;\n\n        // Set language based on user selection\n        const languageCode = voiceLanguage === 'hi-IN-haryanvi' ? 'hi-IN' : voiceLanguage;\n        recognitionRef.current.lang = languageCode;\n        console.log('Setting language to:', languageCode);\n        recognitionRef.current.onresult = event => {\n          console.log('Speech recognition result:', event);\n          let finalTranscript = '';\n          for (let i = event.resultIndex; i < event.results.length; i++) {\n            if (event.results[i].isFinal) {\n              finalTranscript += event.results[i][0].transcript;\n            }\n          }\n          if (finalTranscript) {\n            console.log('Final transcript:', finalTranscript);\n            setVoiceInput(finalTranscript);\n            setFormData(prev => ({\n              ...prev,\n              issueDescription: prev.issueDescription + ' ' + finalTranscript\n            }));\n          }\n        };\n        recognitionRef.current.onerror = event => {\n          console.error('Speech recognition error:', event.error);\n          setError(`Voice recognition failed: ${event.error}. Please try again.`);\n          setIsRecording(false);\n        };\n        recognitionRef.current.onend = () => {\n          console.log('Speech recognition ended');\n          setIsRecording(false);\n        };\n        recognitionRef.current.onstart = () => {\n          console.log('Speech recognition started');\n        };\n      } else {\n        console.log('Speech recognition not supported');\n        setError('Speech recognition is not supported in this browser.');\n      }\n    } else {\n      // Update language if recognition already exists\n      const languageCode = voiceLanguage === 'hi-IN-haryanvi' ? 'hi-IN' : voiceLanguage;\n      recognitionRef.current.lang = languageCode;\n      console.log('Updated language to:', languageCode);\n    }\n  };\n  const categories = ['Sanitation', 'Water', 'Electricity', 'Roads', 'Street Lights', 'Sewage', 'Garbage', 'Traffic', 'Other'];\n  const regions = ['Maharashtra', 'Uttar Pradesh', 'Delhi', 'Karnataka', 'Tamil Nadu', 'Gujarat', 'West Bengal', 'Andhra Pradesh', 'Telangana', 'Kerala'];\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    if (name.includes('.')) {\n      const [parent, child] = name.split('.');\n      setFormData(prev => ({\n        ...prev,\n        [parent]: {\n          ...prev[parent],\n          [child]: value\n        }\n      }));\n    } else {\n      setFormData(prev => ({\n        ...prev,\n        [name]: value\n      }));\n    }\n  };\n  const handleVoiceRecording = async () => {\n    if (isRecording) {\n      // Stop recording\n      if (recognitionRef.current) {\n        recognitionRef.current.stop();\n      }\n      setIsRecording(false);\n    } else {\n      // Start recording\n      try {\n        initializeSpeechRecognition();\n        if (recognitionRef.current) {\n          recognitionRef.current.start();\n          setIsRecording(true);\n          setError('');\n        } else {\n          // Fallback to simulated transcription\n          setError('Speech recognition not available. Using simulated transcription.');\n          setIsRecording(true);\n          setTimeout(async () => {\n            try {\n              const result = await aiAPI.transcribeAudio();\n              setVoiceInput(result.text);\n              setFormData(prev => ({\n                ...prev,\n                issueDescription: prev.issueDescription + ' ' + result.text\n              }));\n            } catch (error) {\n              setError('Voice transcription failed. Please try again.');\n            } finally {\n              setIsRecording(false);\n            }\n          }, 3000);\n        }\n      } catch (error) {\n        console.error('Error starting speech recognition:', error);\n        setError('Failed to start voice recording. Please try again.');\n      }\n    }\n  };\n  const handleImageUpload = e => {\n    const files = Array.from(e.target.files);\n    const newImages = files.map(file => ({\n      file,\n      preview: URL.createObjectURL(file),\n      analysis: null\n    }));\n    setSelectedImages(prev => [...prev, ...newImages]);\n\n    // Simulate image analysis\n    files.forEach((file, index) => {\n      setTimeout(async () => {\n        try {\n          const analysis = await aiAPI.analyzeImage(file);\n          setSelectedImages(prev => prev.map((img, i) => i === prev.length - files.length + index ? {\n            ...img,\n            analysis\n          } : img));\n        } catch (error) {\n          console.error('Image analysis failed:', error);\n        }\n      }, 1000 + index * 500);\n    });\n  };\n  const removeImage = index => {\n    setSelectedImages(prev => {\n      const newImages = prev.filter((_, i) => i !== index);\n      return newImages;\n    });\n  };\n  const generateDraft = async () => {\n    if (!formData.category || !formData.issueDescription) {\n      setError('Please fill in category and issue description first.');\n      return;\n    }\n    setIsGeneratingDraft(true);\n    setError('');\n    try {\n      const draft = await aiAPI.generateComplaintDraft({\n        userInfo: user,\n        address: formData.address,\n        issueDescription: formData.issueDescription,\n        category: formData.category,\n        region: formData.region\n      });\n      setAiDraft(draft);\n    } catch (error) {\n      setError('Failed to generate complaint draft. Please try again.');\n    } finally {\n      setIsGeneratingDraft(false);\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!reviewConfirmed) {\n      setError('Please review and confirm the complaint details.');\n      return;\n    }\n    setIsSubmitting(true);\n    setError('');\n    try {\n      const response = await complaintAPI.fileComplaint({\n        userId: user.id,\n        ...formData\n      });\n      setSuccess(response);\n      // Reset form\n      setFormData({\n        address: {\n          houseNo: '',\n          addressLine1: '',\n          addressLine2: '',\n          pinCode: ''\n        },\n        issueDescription: '',\n        category: '',\n        region: ''\n      });\n      setVoiceInput('');\n      setSelectedImages([]);\n      setAiDraft(null);\n      setReviewConfirmed(false);\n    } catch (error) {\n      setError(error.message || 'Failed to submit complaint. Please try again.');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"page-title\",\n        children: \"File a Complaint\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"page-subtitle\",\n        children: \"Report civic issues with AI-powered assistance\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 7\n    }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-success\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Complaint Submitted Successfully!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Your tracking ID is: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: success.trackingId\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 35\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-secondary\",\n        onClick: () => setSuccess(null),\n        children: \"File Another Complaint\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"complaint-form-container\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"complaint-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"section-title\",\n            children: \"Address Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"address-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"houseNo\",\n                className: \"form-label\",\n                children: \"House No.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                id: \"houseNo\",\n                name: \"address.houseNo\",\n                value: formData.address.houseNo,\n                onChange: handleInputChange,\n                className: \"form-input\",\n                placeholder: \"Enter house number\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"addressLine1\",\n                className: \"form-label\",\n                children: \"Address Line 1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                id: \"addressLine1\",\n                name: \"address.addressLine1\",\n                value: formData.address.addressLine1,\n                onChange: handleInputChange,\n                className: \"form-input\",\n                placeholder: \"Street address\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"addressLine2\",\n                className: \"form-label\",\n                children: \"Address Line 2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                id: \"addressLine2\",\n                name: \"address.addressLine2\",\n                value: formData.address.addressLine2,\n                onChange: handleInputChange,\n                className: \"form-input\",\n                placeholder: \"Landmark or area\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"pinCode\",\n                className: \"form-label\",\n                children: \"PIN Code\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                id: \"pinCode\",\n                name: \"address.pinCode\",\n                value: formData.address.pinCode,\n                onChange: handleInputChange,\n                className: \"form-input\",\n                placeholder: \"6-digit PIN code\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"section-title\",\n            children: \"Issue Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"issueDescription\",\n              className: \"form-label\",\n              children: \"Describe the issue (Text)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              id: \"issueDescription\",\n              name: \"issueDescription\",\n              value: formData.issueDescription,\n              onChange: handleInputChange,\n              className: \"form-input\",\n              rows: \"4\",\n              placeholder: \"Describe the civic issue in detail...\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"voice-input-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Voice Input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"voice-controls\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"voice-language-selector\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"voiceLanguage\",\n                  className: \"form-label\",\n                  children: \"Language:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  id: \"voiceLanguage\",\n                  value: voiceLanguage,\n                  onChange: e => setVoiceLanguage(e.target.value),\n                  className: \"form-select\",\n                  disabled: isRecording,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"hi-IN\",\n                    children: \"Hindi (\\u0939\\u093F\\u0902\\u0926\\u0940)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 401,\n                    columnNumber: 22\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"en-IN\",\n                    children: \"English (India)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 402,\n                    columnNumber: 22\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"en-US\",\n                    children: \"English (US)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 403,\n                    columnNumber: 22\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"gu-IN\",\n                    children: \"Gujarati (\\u0A97\\u0AC1\\u0A9C\\u0AB0\\u0ABE\\u0AA4\\u0AC0)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 404,\n                    columnNumber: 22\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"bn-IN\",\n                    children: \"Bengali (\\u09AC\\u09BE\\u0982\\u09B2\\u09BE)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 405,\n                    columnNumber: 22\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"ta-IN\",\n                    children: \"Tamil (\\u0BA4\\u0BAE\\u0BBF\\u0BB4\\u0BCD)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 406,\n                    columnNumber: 22\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"te-IN\",\n                    children: \"Telugu (\\u0C24\\u0C46\\u0C32\\u0C41\\u0C17\\u0C41)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 407,\n                    columnNumber: 22\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"mr-IN\",\n                    children: \"Marathi (\\u092E\\u0930\\u093E\\u0920\\u0940)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 408,\n                    columnNumber: 22\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"pa-IN\",\n                    children: \"Punjabi (\\u0A2A\\u0A70\\u0A1C\\u0A3E\\u0A2C\\u0A40)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 409,\n                    columnNumber: 22\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"kn-IN\",\n                    children: \"Kannada (\\u0C95\\u0CA8\\u0CCD\\u0CA8\\u0CA1)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 410,\n                    columnNumber: 22\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"hi-IN-haryanvi\",\n                    children: \"Haryanvi (\\u0939\\u0930\\u093F\\u092F\\u093E\\u0923\\u0935\\u0940)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 411,\n                    columnNumber: 22\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 394,\n                  columnNumber: 38\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: `btn ${isRecording ? 'btn-danger' : 'btn-secondary'}`,\n                onClick: handleVoiceRecording,\n                children: isRecording ? 'ðŸ›‘ Stop Recording' : 'ðŸŽ¤ Start Recording'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 414,\n                columnNumber: 17\n              }, this), isRecording && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"recording-indicator\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"recording-dot\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 423,\n                  columnNumber: 22\n                }, this), \"Recording... Speak clearly in \", voiceLanguage === 'hi-IN' ? 'Hindi' : voiceLanguage === 'en-IN' || voiceLanguage === 'en-US' ? 'English' : voiceLanguage === 'gu-IN' ? 'Gujarati' : voiceLanguage === 'bn-IN' ? 'Bengali' : voiceLanguage === 'ta-IN' ? 'Tamil' : voiceLanguage === 'te-IN' ? 'Telugu' : voiceLanguage === 'mr-IN' ? 'Marathi' : voiceLanguage === 'pa-IN' ? 'Punjabi' : voiceLanguage === 'kn-IN' ? 'Kannada' : voiceLanguage === 'hi-IN-haryanvi' ? 'Haryanvi' : 'Hindi']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 20\n              }, this), voiceInput && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"voice-transcription\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"transcription-header\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Transcribed:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 439,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"clear-transcription-btn\",\n                    onClick: () => {\n                      setVoiceInput('');\n                      setFormData(prev => ({\n                        ...prev,\n                        issueDescription: prev.issueDescription.replace(voiceInput, '').trim()\n                      }));\n                    },\n                    children: \"\\u2715 Clear\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 440,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 438,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"transcription-text\",\n                  children: voiceInput\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 454,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"voice-instructions\",\n                children: [/*#__PURE__*/_jsxDEV(\"small\", {\n                  children: \"\\uD83D\\uDCA1 Tip: Speak clearly in your selected language for better recognition\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 458,\n                  columnNumber: 20\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 459,\n                  columnNumber: 20\n                }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                  children: \"\\uD83C\\uDF10 Browser Support: Chrome, Edge, Safari (HTTPS required)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 460,\n                  columnNumber: 20\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 34\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"image-upload-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Upload Images\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"image-upload-controls\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-secondary\",\n                onClick: () => fileInputRef.current.click(),\n                children: \"\\uD83D\\uDCF7 Upload Images\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 469,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                ref: fileInputRef,\n                type: \"file\",\n                multiple: true,\n                accept: \"image/*\",\n                onChange: handleImageUpload,\n                style: {\n                  display: 'none'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 476,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 15\n            }, this), selectedImages.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"image-preview-grid\",\n              children: selectedImages.map((image, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"image-preview-card\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: image.preview,\n                  alt: `Upload ${index + 1}`,\n                  className: \"image-preview\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 490,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"remove-image-btn\",\n                  onClick: () => removeImage(index),\n                  children: \"\\u2715\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 23\n                }, this), image.analysis && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"image-analysis\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"AI Analysis:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 504,\n                    columnNumber: 27\n                  }, this), \" \", image.analysis.description]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 503,\n                  columnNumber: 25\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 489,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"section-title\",\n            children: \"Additional Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"details-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"category\",\n                className: \"form-label\",\n                children: \"Issue Category\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 519,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"category\",\n                name: \"category\",\n                value: formData.category,\n                onChange: handleInputChange,\n                className: \"form-select\",\n                required: true,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select category\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 528,\n                  columnNumber: 19\n                }, this), categories.map(category => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: category,\n                  children: category\n                }, category, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 530,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 520,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 518,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"region\",\n                className: \"form-label\",\n                children: \"State/Region\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 535,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"region\",\n                name: \"region\",\n                value: formData.region,\n                onChange: handleInputChange,\n                className: \"form-select\",\n                required: true,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select state\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 544,\n                  columnNumber: 19\n                }, this), regions.map(region => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: region,\n                  children: region\n                }, region, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 546,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 536,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 534,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 517,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 515,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"section-title\",\n            children: \"AI-Powered Draft\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 555,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: `btn btn-primary ${isGeneratingDraft ? 'loading' : ''}`,\n            onClick: generateDraft,\n            disabled: isGeneratingDraft || !formData.category || !formData.issueDescription,\n            children: isGeneratingDraft ? 'Generating Draft...' : 'Generate AI Draft'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 13\n          }, this), aiDraft && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ai-draft-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"draft-preview\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Generated Complaint Draft:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 568,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n                className: \"draft-content\",\n                children: aiDraft.draft\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 569,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 567,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"authority-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Concerned Authority:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 572,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Name:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 573,\n                  columnNumber: 22\n                }, this), \" \", aiDraft.authority.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 573,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Email:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 574,\n                  columnNumber: 22\n                }, this), \" \", aiDraft.authority.email]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 574,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Phone:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 575,\n                  columnNumber: 22\n                }, this), \" \", aiDraft.authority.phone]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 575,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 571,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 566,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 554,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"section-title\",\n            children: \"Review & Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 583,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"review-checkbox\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"checkbox-label\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: reviewConfirmed,\n                onChange: e => setReviewConfirmed(e.target.checked),\n                className: \"checkbox-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 586,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"checkbox-text\",\n                children: \"I have reviewed the complaint and confirm the details are correct\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 592,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 585,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 584,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: `btn btn-success w-full ${isSubmitting ? 'loading' : ''}`,\n            disabled: isSubmitting || !reviewConfirmed,\n            children: isSubmitting ? 'Submitting Complaint...' : 'Submit Complaint'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 598,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 582,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 285,\n    columnNumber: 5\n  }, this);\n};\n_s(FileComplaint, \"l9Rci3tdcF90SeYuWQ2+FPnk158=\");\n_c = FileComplaint;\nexport default FileComplaint;\nvar _c;\n$RefreshReg$(_c, \"FileComplaint\");","map":{"version":3,"names":["React","useState","useRef","complaintAPI","aiAPI","jsxDEV","_jsxDEV","FileComplaint","user","_s","formData","setFormData","address","houseNo","addressLine1","addressLine2","pinCode","issueDescription","category","region","voiceInput","setVoiceInput","isRecording","setIsRecording","voiceLanguage","setVoiceLanguage","browserLang","navigator","language","userLanguage","startsWith","selectedImages","setSelectedImages","aiDraft","setAiDraft","isGeneratingDraft","setIsGeneratingDraft","isSubmitting","setIsSubmitting","reviewConfirmed","setReviewConfirmed","success","setSuccess","error","setError","fileInputRef","recognitionRef","initializeSpeechRecognition","current","SpeechRecognition","window","webkitSpeechRecognition","console","log","continuous","interimResults","languageCode","lang","onresult","event","finalTranscript","i","resultIndex","results","length","isFinal","transcript","prev","onerror","onend","onstart","categories","regions","handleInputChange","e","name","value","target","includes","parent","child","split","handleVoiceRecording","stop","start","setTimeout","result","transcribeAudio","text","handleImageUpload","files","Array","from","newImages","map","file","preview","URL","createObjectURL","analysis","forEach","index","analyzeImage","img","removeImage","filter","_","generateDraft","draft","generateComplaintDraft","userInfo","handleSubmit","preventDefault","response","fileComplaint","userId","id","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","trackingId","onClick","onSubmit","htmlFor","type","onChange","placeholder","required","rows","disabled","replace","trim","click","ref","multiple","accept","style","display","image","src","alt","description","authority","email","phone","checked","_c","$RefreshReg$"],"sources":["C:/Users/ASUS/OneDrive/Desktop/janai/frontend/src/pages/FileComplaint.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\r\nimport { complaintAPI, aiAPI } from '../services/api';\r\nimport './FileComplaint.css';\r\n\r\nconst FileComplaint = ({ user }) => {\r\n  const [formData, setFormData] = useState({\r\n    address: {\r\n      houseNo: '',\r\n      addressLine1: '',\r\n      addressLine2: '',\r\n      pinCode: ''\r\n    },\r\n    issueDescription: '',\r\n    category: '',\r\n    region: ''\r\n  });\r\n  \r\n  const [voiceInput, setVoiceInput] = useState('');\r\n  const [isRecording, setIsRecording] = useState(false);\r\n  const [voiceLanguage, setVoiceLanguage] = useState(() => {\r\n    // Auto-detect language based on browser settings\r\n    const browserLang = navigator.language || navigator.userLanguage;\r\n    if (browserLang.startsWith('hi')) return 'hi-IN';\r\n    if (browserLang.startsWith('en')) return 'en-IN';\r\n    if (browserLang.startsWith('gu')) return 'gu-IN';\r\n    if (browserLang.startsWith('bn')) return 'bn-IN';\r\n    if (browserLang.startsWith('ta')) return 'ta-IN';\r\n    if (browserLang.startsWith('te')) return 'te-IN';\r\n    if (browserLang.startsWith('mr')) return 'mr-IN';\r\n    if (browserLang.startsWith('pa')) return 'pa-IN';\r\n    if (browserLang.startsWith('kn')) return 'kn-IN';\r\n    return 'hi-IN'; // Default to Hindi\r\n  });\r\n  const [selectedImages, setSelectedImages] = useState([]);\r\n  const [aiDraft, setAiDraft] = useState(null);\r\n  const [isGeneratingDraft, setIsGeneratingDraft] = useState(false);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [reviewConfirmed, setReviewConfirmed] = useState(false);\r\n  const [success, setSuccess] = useState(null);\r\n  const [error, setError] = useState('');\r\n\r\n  const fileInputRef = useRef(null);\r\n  const recognitionRef = useRef(null);\r\n\r\n  // Initialize speech recognition\r\n  const initializeSpeechRecognition = () => {\r\n    if (!recognitionRef.current) {\r\n      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\r\n      console.log('Speech Recognition available:', !!SpeechRecognition);\r\n      \r\n      if (SpeechRecognition) {\r\n        recognitionRef.current = new SpeechRecognition();\r\n        recognitionRef.current.continuous = true;\r\n        recognitionRef.current.interimResults = true;\r\n        \r\n        // Set language based on user selection\r\n        const languageCode = voiceLanguage === 'hi-IN-haryanvi' ? 'hi-IN' : voiceLanguage;\r\n        recognitionRef.current.lang = languageCode;\r\n        console.log('Setting language to:', languageCode);\r\n        \r\n        recognitionRef.current.onresult = (event) => {\r\n          console.log('Speech recognition result:', event);\r\n          let finalTranscript = '';\r\n          for (let i = event.resultIndex; i < event.results.length; i++) {\r\n            if (event.results[i].isFinal) {\r\n              finalTranscript += event.results[i][0].transcript;\r\n            }\r\n          }\r\n          if (finalTranscript) {\r\n            console.log('Final transcript:', finalTranscript);\r\n            setVoiceInput(finalTranscript);\r\n            setFormData(prev => ({\r\n              ...prev,\r\n              issueDescription: prev.issueDescription + ' ' + finalTranscript\r\n            }));\r\n          }\r\n        };\r\n\r\n        recognitionRef.current.onerror = (event) => {\r\n          console.error('Speech recognition error:', event.error);\r\n          setError(`Voice recognition failed: ${event.error}. Please try again.`);\r\n          setIsRecording(false);\r\n        };\r\n\r\n        recognitionRef.current.onend = () => {\r\n          console.log('Speech recognition ended');\r\n          setIsRecording(false);\r\n        };\r\n\r\n        recognitionRef.current.onstart = () => {\r\n          console.log('Speech recognition started');\r\n        };\r\n      } else {\r\n        console.log('Speech recognition not supported');\r\n        setError('Speech recognition is not supported in this browser.');\r\n      }\r\n    } else {\r\n      // Update language if recognition already exists\r\n      const languageCode = voiceLanguage === 'hi-IN-haryanvi' ? 'hi-IN' : voiceLanguage;\r\n      recognitionRef.current.lang = languageCode;\r\n      console.log('Updated language to:', languageCode);\r\n    }\r\n  };\r\n\r\n  const categories = [\r\n    'Sanitation',\r\n    'Water',\r\n    'Electricity',\r\n    'Roads',\r\n    'Street Lights',\r\n    'Sewage',\r\n    'Garbage',\r\n    'Traffic',\r\n    'Other'\r\n  ];\r\n\r\n  const regions = [\r\n    'Maharashtra',\r\n    'Uttar Pradesh',\r\n    'Delhi',\r\n    'Karnataka',\r\n    'Tamil Nadu',\r\n    'Gujarat',\r\n    'West Bengal',\r\n    'Andhra Pradesh',\r\n    'Telangana',\r\n    'Kerala'\r\n  ];\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    if (name.includes('.')) {\r\n      const [parent, child] = name.split('.');\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        [parent]: {\r\n          ...prev[parent],\r\n          [child]: value\r\n        }\r\n      }));\r\n    } else {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        [name]: value\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handleVoiceRecording = async () => {\r\n    if (isRecording) {\r\n      // Stop recording\r\n      if (recognitionRef.current) {\r\n        recognitionRef.current.stop();\r\n      }\r\n      setIsRecording(false);\r\n    } else {\r\n      // Start recording\r\n      try {\r\n        initializeSpeechRecognition();\r\n        if (recognitionRef.current) {\r\n          recognitionRef.current.start();\r\n          setIsRecording(true);\r\n          setError('');\r\n        } else {\r\n          // Fallback to simulated transcription\r\n          setError('Speech recognition not available. Using simulated transcription.');\r\n          setIsRecording(true);\r\n          setTimeout(async () => {\r\n            try {\r\n              const result = await aiAPI.transcribeAudio();\r\n              setVoiceInput(result.text);\r\n              setFormData(prev => ({\r\n                ...prev,\r\n                issueDescription: prev.issueDescription + ' ' + result.text\r\n              }));\r\n            } catch (error) {\r\n              setError('Voice transcription failed. Please try again.');\r\n            } finally {\r\n              setIsRecording(false);\r\n            }\r\n          }, 3000);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error starting speech recognition:', error);\r\n        setError('Failed to start voice recording. Please try again.');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleImageUpload = (e) => {\r\n    const files = Array.from(e.target.files);\r\n    const newImages = files.map(file => ({\r\n      file,\r\n      preview: URL.createObjectURL(file),\r\n      analysis: null\r\n    }));\r\n    setSelectedImages(prev => [...prev, ...newImages]);\r\n    \r\n    // Simulate image analysis\r\n    files.forEach((file, index) => {\r\n      setTimeout(async () => {\r\n        try {\r\n          const analysis = await aiAPI.analyzeImage(file);\r\n          setSelectedImages(prev => \r\n            prev.map((img, i) => \r\n              i === prev.length - files.length + index \r\n                ? { ...img, analysis }\r\n                : img\r\n            )\r\n          );\r\n        } catch (error) {\r\n          console.error('Image analysis failed:', error);\r\n        }\r\n      }, 1000 + index * 500);\r\n    });\r\n  };\r\n\r\n  const removeImage = (index) => {\r\n    setSelectedImages(prev => {\r\n      const newImages = prev.filter((_, i) => i !== index);\r\n      return newImages;\r\n    });\r\n  };\r\n\r\n  const generateDraft = async () => {\r\n    if (!formData.category || !formData.issueDescription) {\r\n      setError('Please fill in category and issue description first.');\r\n      return;\r\n    }\r\n\r\n    setIsGeneratingDraft(true);\r\n    setError('');\r\n\r\n    try {\r\n      const draft = await aiAPI.generateComplaintDraft({\r\n        userInfo: user,\r\n        address: formData.address,\r\n        issueDescription: formData.issueDescription,\r\n        category: formData.category,\r\n        region: formData.region\r\n      });\r\n      setAiDraft(draft);\r\n    } catch (error) {\r\n      setError('Failed to generate complaint draft. Please try again.');\r\n    } finally {\r\n      setIsGeneratingDraft(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!reviewConfirmed) {\r\n      setError('Please review and confirm the complaint details.');\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    setError('');\r\n\r\n    try {\r\n      const response = await complaintAPI.fileComplaint({\r\n        userId: user.id,\r\n        ...formData\r\n      });\r\n      setSuccess(response);\r\n      // Reset form\r\n      setFormData({\r\n        address: { houseNo: '', addressLine1: '', addressLine2: '', pinCode: '' },\r\n        issueDescription: '',\r\n        category: '',\r\n        region: ''\r\n      });\r\n      setVoiceInput('');\r\n      setSelectedImages([]);\r\n      setAiDraft(null);\r\n      setReviewConfirmed(false);\r\n    } catch (error) {\r\n      setError(error.message || 'Failed to submit complaint. Please try again.');\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"page-header\">\r\n        <h1 className=\"page-title\">File a Complaint</h1>\r\n        <p className=\"page-subtitle\">Report civic issues with AI-powered assistance</p>\r\n      </div>\r\n\r\n      {success && (\r\n        <div className=\"alert alert-success\">\r\n          <h3>Complaint Submitted Successfully!</h3>\r\n          <p>Your tracking ID is: <strong>{success.trackingId}</strong></p>\r\n          <button \r\n            className=\"btn btn-secondary\"\r\n            onClick={() => setSuccess(null)}\r\n          >\r\n            File Another Complaint\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {error && (\r\n        <div className=\"alert alert-error\">\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"complaint-form-container\">\r\n        <form onSubmit={handleSubmit} className=\"complaint-form\">\r\n          {/* Address Section */}\r\n          <div className=\"form-section\">\r\n            <h3 className=\"section-title\">Address Details</h3>\r\n            <div className=\"address-grid\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"houseNo\" className=\"form-label\">House No.</label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"houseNo\"\r\n                  name=\"address.houseNo\"\r\n                  value={formData.address.houseNo}\r\n                  onChange={handleInputChange}\r\n                  className=\"form-input\"\r\n                  placeholder=\"Enter house number\"\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"addressLine1\" className=\"form-label\">Address Line 1</label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"addressLine1\"\r\n                  name=\"address.addressLine1\"\r\n                  value={formData.address.addressLine1}\r\n                  onChange={handleInputChange}\r\n                  className=\"form-input\"\r\n                  placeholder=\"Street address\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"addressLine2\" className=\"form-label\">Address Line 2</label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"addressLine2\"\r\n                  name=\"address.addressLine2\"\r\n                  value={formData.address.addressLine2}\r\n                  onChange={handleInputChange}\r\n                  className=\"form-input\"\r\n                  placeholder=\"Landmark or area\"\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"pinCode\" className=\"form-label\">PIN Code</label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"pinCode\"\r\n                  name=\"address.pinCode\"\r\n                  value={formData.address.pinCode}\r\n                  onChange={handleInputChange}\r\n                  className=\"form-input\"\r\n                  placeholder=\"6-digit PIN code\"\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Issue Description Section */}\r\n          <div className=\"form-section\">\r\n            <h3 className=\"section-title\">Issue Description</h3>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"issueDescription\" className=\"form-label\">\r\n                Describe the issue (Text)\r\n              </label>\r\n              <textarea\r\n                id=\"issueDescription\"\r\n                name=\"issueDescription\"\r\n                value={formData.issueDescription}\r\n                onChange={handleInputChange}\r\n                className=\"form-input\"\r\n                rows=\"4\"\r\n                placeholder=\"Describe the civic issue in detail...\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            {/* Voice Input */}\r\n            <div className=\"voice-input-section\">\r\n              <label className=\"form-label\">Voice Input</label>\r\n              <div className=\"voice-controls\">\r\n                <div className=\"voice-language-selector\">\r\n                  <label htmlFor=\"voiceLanguage\" className=\"form-label\">Language:</label>\r\n                                     <select\r\n                     id=\"voiceLanguage\"\r\n                     value={voiceLanguage}\r\n                     onChange={(e) => setVoiceLanguage(e.target.value)}\r\n                     className=\"form-select\"\r\n                     disabled={isRecording}\r\n                   >\r\n                     <option value=\"hi-IN\">Hindi (à¤¹à¤¿à¤‚à¤¦à¥€)</option>\r\n                     <option value=\"en-IN\">English (India)</option>\r\n                     <option value=\"en-US\">English (US)</option>\r\n                     <option value=\"gu-IN\">Gujarati (àª—à«àªœàª°àª¾àª¤à«€)</option>\r\n                     <option value=\"bn-IN\">Bengali (à¦¬à¦¾à¦‚à¦²à¦¾)</option>\r\n                     <option value=\"ta-IN\">Tamil (à®¤à®®à®¿à®´à¯)</option>\r\n                     <option value=\"te-IN\">Telugu (à°¤à±†à°²à±à°—à±)</option>\r\n                     <option value=\"mr-IN\">Marathi (à¤®à¤°à¤¾à¤ à¥€)</option>\r\n                     <option value=\"pa-IN\">Punjabi (à¨ªà©°à¨œà¨¾à¨¬à©€)</option>\r\n                     <option value=\"kn-IN\">Kannada (à²•à²¨à³à²¨à²¡)</option>\r\n                     <option value=\"hi-IN-haryanvi\">Haryanvi (à¤¹à¤°à¤¿à¤¯à¤¾à¤£à¤µà¥€)</option>\r\n                   </select>\r\n                </div>\r\n                <button\r\n                  type=\"button\"\r\n                  className={`btn ${isRecording ? 'btn-danger' : 'btn-secondary'}`}\r\n                  onClick={handleVoiceRecording}\r\n                >\r\n                  {isRecording ? 'ðŸ›‘ Stop Recording' : 'ðŸŽ¤ Start Recording'}\r\n                </button>\r\n                                 {isRecording && (\r\n                   <div className=\"recording-indicator\">\r\n                     <span className=\"recording-dot\"></span>\r\n                     Recording... Speak clearly in {voiceLanguage === 'hi-IN' ? 'Hindi' : \r\n                       voiceLanguage === 'en-IN' || voiceLanguage === 'en-US' ? 'English' :\r\n                       voiceLanguage === 'gu-IN' ? 'Gujarati' :\r\n                       voiceLanguage === 'bn-IN' ? 'Bengali' :\r\n                       voiceLanguage === 'ta-IN' ? 'Tamil' :\r\n                       voiceLanguage === 'te-IN' ? 'Telugu' :\r\n                       voiceLanguage === 'mr-IN' ? 'Marathi' :\r\n                       voiceLanguage === 'pa-IN' ? 'Punjabi' :\r\n                       voiceLanguage === 'kn-IN' ? 'Kannada' :\r\n                       voiceLanguage === 'hi-IN-haryanvi' ? 'Haryanvi' : 'Hindi'}\r\n                   </div>\r\n                 )}\r\n                {voiceInput && (\r\n                  <div className=\"voice-transcription\">\r\n                    <div className=\"transcription-header\">\r\n                      <strong>Transcribed:</strong>\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"clear-transcription-btn\"\r\n                        onClick={() => {\r\n                          setVoiceInput('');\r\n                          setFormData(prev => ({\r\n                            ...prev,\r\n                            issueDescription: prev.issueDescription.replace(voiceInput, '').trim()\r\n                          }));\r\n                        }}\r\n                      >\r\n                        âœ• Clear\r\n                      </button>\r\n                    </div>\r\n                    <div className=\"transcription-text\">{voiceInput}</div>\r\n                  </div>\r\n                )}\r\n                                 <div className=\"voice-instructions\">\r\n                   <small>ðŸ’¡ Tip: Speak clearly in your selected language for better recognition</small>\r\n                   <br />\r\n                   <small>ðŸŒ Browser Support: Chrome, Edge, Safari (HTTPS required)</small>\r\n                 </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Image Upload */}\r\n            <div className=\"image-upload-section\">\r\n              <label className=\"form-label\">Upload Images</label>\r\n              <div className=\"image-upload-controls\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-secondary\"\r\n                  onClick={() => fileInputRef.current.click()}\r\n                >\r\n                  ðŸ“· Upload Images\r\n                </button>\r\n                <input\r\n                  ref={fileInputRef}\r\n                  type=\"file\"\r\n                  multiple\r\n                  accept=\"image/*\"\r\n                  onChange={handleImageUpload}\r\n                  style={{ display: 'none' }}\r\n                />\r\n              </div>\r\n              \r\n              {selectedImages.length > 0 && (\r\n                <div className=\"image-preview-grid\">\r\n                  {selectedImages.map((image, index) => (\r\n                    <div key={index} className=\"image-preview-card\">\r\n                      <img \r\n                        src={image.preview} \r\n                        alt={`Upload ${index + 1}`}\r\n                        className=\"image-preview\"\r\n                      />\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"remove-image-btn\"\r\n                        onClick={() => removeImage(index)}\r\n                      >\r\n                        âœ•\r\n                      </button>\r\n                      {image.analysis && (\r\n                        <div className=\"image-analysis\">\r\n                          <strong>AI Analysis:</strong> {image.analysis.description}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Category and Region */}\r\n          <div className=\"form-section\">\r\n            <h3 className=\"section-title\">Additional Details</h3>\r\n            <div className=\"details-grid\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"category\" className=\"form-label\">Issue Category</label>\r\n                <select\r\n                  id=\"category\"\r\n                  name=\"category\"\r\n                  value={formData.category}\r\n                  onChange={handleInputChange}\r\n                  className=\"form-select\"\r\n                  required\r\n                >\r\n                  <option value=\"\">Select category</option>\r\n                  {categories.map(category => (\r\n                    <option key={category} value={category}>{category}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"region\" className=\"form-label\">State/Region</label>\r\n                <select\r\n                  id=\"region\"\r\n                  name=\"region\"\r\n                  value={formData.region}\r\n                  onChange={handleInputChange}\r\n                  className=\"form-select\"\r\n                  required\r\n                >\r\n                  <option value=\"\">Select state</option>\r\n                  {regions.map(region => (\r\n                    <option key={region} value={region}>{region}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* AI Draft Generation */}\r\n          <div className=\"form-section\">\r\n            <h3 className=\"section-title\">AI-Powered Draft</h3>\r\n            <button\r\n              type=\"button\"\r\n              className={`btn btn-primary ${isGeneratingDraft ? 'loading' : ''}`}\r\n              onClick={generateDraft}\r\n              disabled={isGeneratingDraft || !formData.category || !formData.issueDescription}\r\n            >\r\n              {isGeneratingDraft ? 'Generating Draft...' : 'Generate AI Draft'}\r\n            </button>\r\n\r\n            {aiDraft && (\r\n              <div className=\"ai-draft-section\">\r\n                <div className=\"draft-preview\">\r\n                  <h4>Generated Complaint Draft:</h4>\r\n                  <pre className=\"draft-content\">{aiDraft.draft}</pre>\r\n                </div>\r\n                <div className=\"authority-info\">\r\n                  <h4>Concerned Authority:</h4>\r\n                  <p><strong>Name:</strong> {aiDraft.authority.name}</p>\r\n                  <p><strong>Email:</strong> {aiDraft.authority.email}</p>\r\n                  <p><strong>Phone:</strong> {aiDraft.authority.phone}</p>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Review and Submit */}\r\n          <div className=\"form-section\">\r\n            <h3 className=\"section-title\">Review & Submit</h3>\r\n            <div className=\"review-checkbox\">\r\n              <label className=\"checkbox-label\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={reviewConfirmed}\r\n                  onChange={(e) => setReviewConfirmed(e.target.checked)}\r\n                  className=\"checkbox-input\"\r\n                />\r\n                <span className=\"checkbox-text\">\r\n                  I have reviewed the complaint and confirm the details are correct\r\n                </span>\r\n              </label>\r\n            </div>\r\n\r\n            <button\r\n              type=\"submit\"\r\n              className={`btn btn-success w-full ${isSubmitting ? 'loading' : ''}`}\r\n              disabled={isSubmitting || !reviewConfirmed}\r\n            >\r\n              {isSubmitting ? 'Submitting Complaint...' : 'Submit Complaint'}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FileComplaint; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}