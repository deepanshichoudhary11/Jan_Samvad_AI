{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\OneDrive\\\\Desktop\\\\janai\\\\frontend\\\\src\\\\components\\\\VoiceHelpline.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect, useCallback } from 'react';\nimport './VoiceHelpline.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst VoiceHelpline = ({\n  onHelplineResult\n}) => {\n  _s();\n  var _supportedLanguages$f;\n  const [isRecording, setIsRecording] = useState(false);\n  const [voiceText, setVoiceText] = useState('');\n  const [detectedLanguage, setDetectedLanguage] = useState('');\n  const [detectedState, setDetectedState] = useState('');\n  const [emergencyType, setEmergencyType] = useState('');\n  const [helplineNumbers, setHelplineNumbers] = useState([]);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [error, setError] = useState('');\n  const [recognition, setRecognition] = useState(null);\n  const [selectedLanguage, setSelectedLanguage] = useState('hi-IN');\n\n  // Supported Indian languages\n  const supportedLanguages = [{\n    code: 'hi-IN',\n    name: 'हिंदी (Hindi)',\n    region: 'North India'\n  }, {\n    code: 'en-IN',\n    name: 'English (India)',\n    region: 'All India'\n  }, {\n    code: 'ta-IN',\n    name: 'தமிழ் (Tamil)',\n    region: 'Tamil Nadu'\n  }, {\n    code: 'te-IN',\n    name: 'తెలుగు (Telugu)',\n    region: 'Andhra Pradesh/Telangana'\n  }, {\n    code: 'mr-IN',\n    name: 'मराठी (Marathi)',\n    region: 'Maharashtra'\n  }, {\n    code: 'gu-IN',\n    name: 'ગુજરાતી (Gujarati)',\n    region: 'Gujarat'\n  }, {\n    code: 'bn-IN',\n    name: 'বাংলা (Bengali)',\n    region: 'West Bengal'\n  }, {\n    code: 'kn-IN',\n    name: 'ಕನ್ನಡ (Kannada)',\n    region: 'Karnataka'\n  }, {\n    code: 'ml-IN',\n    name: 'മലയാളം (Malayalam)',\n    region: 'Kerala'\n  }, {\n    code: 'pa-IN',\n    name: 'ਪੰਜਾਬੀ (Punjabi)',\n    region: 'Punjab'\n  }, {\n    code: 'ur-IN',\n    name: 'اردو (Urdu)',\n    region: 'Delhi/UP'\n  }, {\n    code: 'or-IN',\n    name: 'ଓଡ଼ିଆ (Odia)',\n    region: 'Odisha'\n  }];\n\n  // Initialize speech recognition\n  const initializeSpeechRecognition = useCallback(() => {\n    if (!window.SpeechRecognition && !window.webkitSpeechRecognition) {\n      setError('Speech recognition is not supported in this browser. Please use Chrome, Edge, or Safari.');\n      return;\n    }\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n    const recognitionInstance = new SpeechRecognition();\n    recognitionInstance.continuous = false;\n    recognitionInstance.interimResults = false;\n    recognitionInstance.lang = selectedLanguage;\n    recognitionInstance.maxAlternatives = 1;\n    recognitionInstance.onstart = () => {\n      setIsRecording(true);\n      setError('');\n      console.log('Speech recognition started');\n    };\n    recognitionInstance.onresult = event => {\n      const transcript = event.results[0][0].transcript;\n      console.log('Voice transcript:', transcript);\n      setVoiceText(transcript);\n      processVoiceInput(transcript);\n    };\n    recognitionInstance.onerror = event => {\n      console.error('Speech recognition error:', event.error);\n      setError(`Voice recognition error: ${event.error}. Please try again.`);\n      setIsRecording(false);\n    };\n    recognitionInstance.onend = () => {\n      setIsRecording(false);\n      console.log('Speech recognition ended');\n    };\n    setRecognition(recognitionInstance);\n  }, [selectedLanguage]);\n  useEffect(() => {\n    initializeSpeechRecognition();\n  }, [initializeSpeechRecognition]);\n  const startRecording = () => {\n    if (!recognition) {\n      setError('Speech recognition not initialized. Please refresh the page.');\n      return;\n    }\n    setVoiceText('');\n    setDetectedLanguage('');\n    setDetectedState('');\n    setEmergencyType('');\n    setHelplineNumbers([]);\n    setError('');\n    try {\n      recognition.start();\n    } catch (error) {\n      console.error('Failed to start recording:', error);\n      setError('Failed to start recording. Please try again.');\n    }\n  };\n  const stopRecording = () => {\n    if (recognition && isRecording) {\n      recognition.stop();\n    }\n  };\n  const processVoiceInput = async text => {\n    if (!text.trim()) {\n      setError('No text detected. Please try speaking again.');\n      return;\n    }\n    setIsProcessing(true);\n    setError('');\n    try {\n      // Call the backend API to process the voice input\n      const response = await fetch('http://localhost:5000/api/emergency/process-emergency', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          text: text,\n          inputLanguage: selectedLanguage\n        })\n      });\n      if (!response.ok) {\n        throw new Error('Failed to process voice input');\n      }\n      const data = await response.json();\n      if (data.success) {\n        setDetectedLanguage(data.detectedLanguage);\n        setDetectedState(data.detectedState);\n        setEmergencyType(data.emergencyType);\n        setHelplineNumbers(data.helplineNumbers);\n\n        // Call parent callback if provided\n        if (onHelplineResult) {\n          onHelplineResult({\n            originalText: text,\n            detectedLanguage: data.detectedLanguage,\n            detectedState: data.detectedState,\n            emergencyType: data.emergencyType,\n            helplineNumbers: data.helplineNumbers,\n            translatedResponse: data.translatedResponse\n          });\n        }\n      } else {\n        setError(data.message || 'Failed to process voice input');\n      }\n    } catch (error) {\n      console.error('Voice processing error:', error);\n      setError('Failed to process voice input. Please check your internet connection and try again.');\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n  const handleLanguageChange = e => {\n    const newLanguage = e.target.value;\n    setSelectedLanguage(newLanguage);\n  };\n  const getEmergencyIcon = type => {\n    const icons = {\n      'police': '👮‍♂️',\n      'medical': '🚑',\n      'fire': '🚒',\n      'women': '👩‍⚕️',\n      'child': '👶',\n      'general': '🆘',\n      'accident': '🚗',\n      'disaster': '⚠️'\n    };\n    return icons[type === null || type === void 0 ? void 0 : type.toLowerCase()] || '📞';\n  };\n  const formatHelplineNumber = helpline => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"helpline-item\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"helpline-icon\",\n        children: getEmergencyIcon(helpline.type)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"helpline-details\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"helpline-name\",\n          children: helpline.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"helpline-number\",\n          children: helpline.number\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this), helpline.description && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"helpline-description\",\n          children: helpline.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"helpline-availability\",\n        children: helpline.availability || '24/7'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this)]\n    }, helpline.number, true, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"voice-helpline-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"voice-helpline-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83C\\uDFA4 Voice Emergency Helpline\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Speak in any Indian language to get emergency helpline numbers\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"language-selection\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"language-select\",\n        children: \"Select your preferred language for voice input:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        id: \"language-select\",\n        value: selectedLanguage,\n        onChange: handleLanguageChange,\n        disabled: isRecording || isProcessing,\n        className: \"language-selector\",\n        children: supportedLanguages.map(lang => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: lang.code,\n          children: lang.name\n        }, lang.code, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"voice-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `voice-button ${isRecording ? 'recording' : ''}`,\n        onClick: isRecording ? stopRecording : startRecording,\n        disabled: isProcessing,\n        children: isRecording ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"recording-pulse\",\n            children: \"\\uD83D\\uDD34\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 15\n          }, this), \"Stop Recording\"]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"microphone-icon\",\n            children: \"\\uD83C\\uDFA4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 15\n          }, this), \"Start Voice Input\"]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this), isRecording && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"recording-status\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"recording-indicator\",\n          children: \"Recording...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Speak clearly about your emergency in \", (_supportedLanguages$f = supportedLanguages.find(lang => lang.code === selectedLanguage)) === null || _supportedLanguages$f === void 0 ? void 0 : _supportedLanguages$f.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this), isProcessing && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"processing-status\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Processing your voice input and analyzing emergency type...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"error-icon\",\n        children: \"\\u26A0\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 11\n      }, this), error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 9\n    }, this), voiceText && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"voice-input-display\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83D\\uDDE3\\uFE0F Your Voice Input:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"voice-text\",\n        children: voiceText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 9\n    }, this), (detectedLanguage || detectedState || emergencyType) && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"detection-results\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83D\\uDD0D Detection Results:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"detection-grid\",\n        children: [detectedLanguage && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detection-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detection-label\",\n            children: \"Language:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detection-value\",\n            children: detectedLanguage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 15\n        }, this), detectedState && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detection-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detection-label\",\n            children: \"State/Region:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detection-value\",\n            children: detectedState\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 15\n        }, this), emergencyType && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detection-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detection-label\",\n            children: \"Emergency Type:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detection-value\",\n            children: emergencyType\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 9\n    }, this), helplineNumbers.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"helpline-results\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83D\\uDCDE Emergency Helpline Numbers\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"helpline-list\",\n        children: helplineNumbers.map(formatHelplineNumber)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"emergency-instructions\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\uD83D\\uDEA8 Emergency Instructions:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Stay calm and speak clearly\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Provide your exact location\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Describe the emergency situation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Follow the operator's instructions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Keep the line open until help arrives\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"quick-emergency\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"\\uD83C\\uDD98 Quick Emergency Numbers (All India):\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"quick-numbers\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"quick-number\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"number\",\n            children: \"112\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"service\",\n            children: \"All Emergencies\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"quick-number\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"number\",\n            children: \"100\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"service\",\n            children: \"Police\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"quick-number\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"number\",\n            children: \"108\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"service\",\n            children: \"Ambulance\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"quick-number\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"number\",\n            children: \"101\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"service\",\n            children: \"Fire\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 201,\n    columnNumber: 5\n  }, this);\n};\n_s(VoiceHelpline, \"6B/iNu0f1n1nDRK0sa7rYhp5m08=\");\n_c = VoiceHelpline;\nexport default VoiceHelpline;\nvar _c;\n$RefreshReg$(_c, \"VoiceHelpline\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useCallback","jsxDEV","_jsxDEV","Fragment","_Fragment","VoiceHelpline","onHelplineResult","_s","_supportedLanguages$f","isRecording","setIsRecording","voiceText","setVoiceText","detectedLanguage","setDetectedLanguage","detectedState","setDetectedState","emergencyType","setEmergencyType","helplineNumbers","setHelplineNumbers","isProcessing","setIsProcessing","error","setError","recognition","setRecognition","selectedLanguage","setSelectedLanguage","supportedLanguages","code","name","region","initializeSpeechRecognition","window","SpeechRecognition","webkitSpeechRecognition","recognitionInstance","continuous","interimResults","lang","maxAlternatives","onstart","console","log","onresult","event","transcript","results","processVoiceInput","onerror","onend","startRecording","start","stopRecording","stop","text","trim","response","fetch","method","headers","body","JSON","stringify","inputLanguage","ok","Error","data","json","success","originalText","translatedResponse","message","handleLanguageChange","e","newLanguage","target","value","getEmergencyIcon","type","icons","toLowerCase","formatHelplineNumber","helpline","className","children","fileName","_jsxFileName","lineNumber","columnNumber","number","description","availability","htmlFor","id","onChange","disabled","map","onClick","find","length","_c","$RefreshReg$"],"sources":["C:/Users/ASUS/OneDrive/Desktop/janai/frontend/src/components/VoiceHelpline.js"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from 'react';\r\nimport './VoiceHelpline.css';\r\n\r\nconst VoiceHelpline = ({ onHelplineResult }) => {\r\n  const [isRecording, setIsRecording] = useState(false);\r\n  const [voiceText, setVoiceText] = useState('');\r\n  const [detectedLanguage, setDetectedLanguage] = useState('');\r\n  const [detectedState, setDetectedState] = useState('');\r\n  const [emergencyType, setEmergencyType] = useState('');\r\n  const [helplineNumbers, setHelplineNumbers] = useState([]);\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [recognition, setRecognition] = useState(null);\r\n  const [selectedLanguage, setSelectedLanguage] = useState('hi-IN');\r\n\r\n  // Supported Indian languages\r\n  const supportedLanguages = [\r\n    { code: 'hi-IN', name: 'हिंदी (Hindi)', region: 'North India' },\r\n    { code: 'en-IN', name: 'English (India)', region: 'All India' },\r\n    { code: 'ta-IN', name: 'தமிழ் (Tamil)', region: 'Tamil Nadu' },\r\n    { code: 'te-IN', name: 'తెలుగు (Telugu)', region: 'Andhra Pradesh/Telangana' },\r\n    { code: 'mr-IN', name: 'मराठी (Marathi)', region: 'Maharashtra' },\r\n    { code: 'gu-IN', name: 'ગુજરાતી (Gujarati)', region: 'Gujarat' },\r\n    { code: 'bn-IN', name: 'বাংলা (Bengali)', region: 'West Bengal' },\r\n    { code: 'kn-IN', name: 'ಕನ್ನಡ (Kannada)', region: 'Karnataka' },\r\n    { code: 'ml-IN', name: 'മലയാളം (Malayalam)', region: 'Kerala' },\r\n    { code: 'pa-IN', name: 'ਪੰਜਾਬੀ (Punjabi)', region: 'Punjab' },\r\n    { code: 'ur-IN', name: 'اردو (Urdu)', region: 'Delhi/UP' },\r\n    { code: 'or-IN', name: 'ଓଡ଼ିଆ (Odia)', region: 'Odisha' }\r\n  ];\r\n\r\n  // Initialize speech recognition\r\n  const initializeSpeechRecognition = useCallback(() => {\r\n    if (!window.SpeechRecognition && !window.webkitSpeechRecognition) {\r\n      setError('Speech recognition is not supported in this browser. Please use Chrome, Edge, or Safari.');\r\n      return;\r\n    }\r\n\r\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\r\n    const recognitionInstance = new SpeechRecognition();\r\n    \r\n    recognitionInstance.continuous = false;\r\n    recognitionInstance.interimResults = false;\r\n    recognitionInstance.lang = selectedLanguage;\r\n    recognitionInstance.maxAlternatives = 1;\r\n    \r\n    recognitionInstance.onstart = () => {\r\n      setIsRecording(true);\r\n      setError('');\r\n      console.log('Speech recognition started');\r\n    };\r\n\r\n    recognitionInstance.onresult = (event) => {\r\n      const transcript = event.results[0][0].transcript;\r\n      console.log('Voice transcript:', transcript);\r\n      setVoiceText(transcript);\r\n      processVoiceInput(transcript);\r\n    };\r\n\r\n    recognitionInstance.onerror = (event) => {\r\n      console.error('Speech recognition error:', event.error);\r\n      setError(`Voice recognition error: ${event.error}. Please try again.`);\r\n      setIsRecording(false);\r\n    };\r\n\r\n    recognitionInstance.onend = () => {\r\n      setIsRecording(false);\r\n      console.log('Speech recognition ended');\r\n    };\r\n\r\n    setRecognition(recognitionInstance);\r\n  }, [selectedLanguage]);\r\n\r\n  useEffect(() => {\r\n    initializeSpeechRecognition();\r\n  }, [initializeSpeechRecognition]);\r\n\r\n  const startRecording = () => {\r\n    if (!recognition) {\r\n      setError('Speech recognition not initialized. Please refresh the page.');\r\n      return;\r\n    }\r\n\r\n    setVoiceText('');\r\n    setDetectedLanguage('');\r\n    setDetectedState('');\r\n    setEmergencyType('');\r\n    setHelplineNumbers([]);\r\n    setError('');\r\n\r\n    try {\r\n      recognition.start();\r\n    } catch (error) {\r\n      console.error('Failed to start recording:', error);\r\n      setError('Failed to start recording. Please try again.');\r\n    }\r\n  };\r\n\r\n  const stopRecording = () => {\r\n    if (recognition && isRecording) {\r\n      recognition.stop();\r\n    }\r\n  };\r\n\r\n  const processVoiceInput = async (text) => {\r\n    if (!text.trim()) {\r\n      setError('No text detected. Please try speaking again.');\r\n      return;\r\n    }\r\n\r\n    setIsProcessing(true);\r\n    setError('');\r\n\r\n    try {\r\n      // Call the backend API to process the voice input\r\n      const response = await fetch('http://localhost:5000/api/emergency/process-emergency', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          text: text,\r\n          inputLanguage: selectedLanguage\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to process voice input');\r\n      }\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        setDetectedLanguage(data.detectedLanguage);\r\n        setDetectedState(data.detectedState);\r\n        setEmergencyType(data.emergencyType);\r\n        setHelplineNumbers(data.helplineNumbers);\r\n\r\n        // Call parent callback if provided\r\n        if (onHelplineResult) {\r\n          onHelplineResult({\r\n            originalText: text,\r\n            detectedLanguage: data.detectedLanguage,\r\n            detectedState: data.detectedState,\r\n            emergencyType: data.emergencyType,\r\n            helplineNumbers: data.helplineNumbers,\r\n            translatedResponse: data.translatedResponse\r\n          });\r\n        }\r\n      } else {\r\n        setError(data.message || 'Failed to process voice input');\r\n      }\r\n    } catch (error) {\r\n      console.error('Voice processing error:', error);\r\n      setError('Failed to process voice input. Please check your internet connection and try again.');\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  const handleLanguageChange = (e) => {\r\n    const newLanguage = e.target.value;\r\n    setSelectedLanguage(newLanguage);\r\n  };\r\n\r\n  const getEmergencyIcon = (type) => {\r\n    const icons = {\r\n      'police': '👮‍♂️',\r\n      'medical': '🚑',\r\n      'fire': '🚒',\r\n      'women': '👩‍⚕️',\r\n      'child': '👶',\r\n      'general': '🆘',\r\n      'accident': '🚗',\r\n      'disaster': '⚠️'\r\n    };\r\n    return icons[type?.toLowerCase()] || '📞';\r\n  };\r\n\r\n  const formatHelplineNumber = (helpline) => {\r\n    return (\r\n      <div key={helpline.number} className=\"helpline-item\">\r\n        <div className=\"helpline-icon\">\r\n          {getEmergencyIcon(helpline.type)}\r\n        </div>\r\n        <div className=\"helpline-details\">\r\n          <div className=\"helpline-name\">{helpline.name}</div>\r\n          <div className=\"helpline-number\">{helpline.number}</div>\r\n          {helpline.description && (\r\n            <div className=\"helpline-description\">{helpline.description}</div>\r\n          )}\r\n        </div>\r\n        <div className=\"helpline-availability\">\r\n          {helpline.availability || '24/7'}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"voice-helpline-container\">\r\n      <div className=\"voice-helpline-header\">\r\n        <h2>🎤 Voice Emergency Helpline</h2>\r\n        <p>Speak in any Indian language to get emergency helpline numbers</p>\r\n      </div>\r\n\r\n      {/* Language Selection */}\r\n      <div className=\"language-selection\">\r\n        <label htmlFor=\"language-select\">Select your preferred language for voice input:</label>\r\n        <select\r\n          id=\"language-select\"\r\n          value={selectedLanguage}\r\n          onChange={handleLanguageChange}\r\n          disabled={isRecording || isProcessing}\r\n          className=\"language-selector\"\r\n        >\r\n          {supportedLanguages.map((lang) => (\r\n            <option key={lang.code} value={lang.code}>\r\n              {lang.name}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      {/* Voice Controls */}\r\n      <div className=\"voice-controls\">\r\n        <button\r\n          className={`voice-button ${isRecording ? 'recording' : ''}`}\r\n          onClick={isRecording ? stopRecording : startRecording}\r\n          disabled={isProcessing}\r\n        >\r\n          {isRecording ? (\r\n            <>\r\n              <span className=\"recording-pulse\">🔴</span>\r\n              Stop Recording\r\n            </>\r\n          ) : (\r\n            <>\r\n              <span className=\"microphone-icon\">🎤</span>\r\n              Start Voice Input\r\n            </>\r\n          )}\r\n        </button>\r\n\r\n        {isRecording && (\r\n          <div className=\"recording-status\">\r\n            <span className=\"recording-indicator\">Recording...</span>\r\n            <p>Speak clearly about your emergency in {supportedLanguages.find(lang => lang.code === selectedLanguage)?.name}</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Processing Status */}\r\n      {isProcessing && (\r\n        <div className=\"processing-status\">\r\n          <div className=\"spinner\"></div>\r\n          <p>Processing your voice input and analyzing emergency type...</p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Error Display */}\r\n      {error && (\r\n        <div className=\"error-message\">\r\n          <span className=\"error-icon\">⚠️</span>\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      {/* Voice Input Display */}\r\n      {voiceText && (\r\n        <div className=\"voice-input-display\">\r\n          <h3>🗣️ Your Voice Input:</h3>\r\n          <div className=\"voice-text\">{voiceText}</div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Detection Results */}\r\n      {(detectedLanguage || detectedState || emergencyType) && (\r\n        <div className=\"detection-results\">\r\n          <h3>🔍 Detection Results:</h3>\r\n          <div className=\"detection-grid\">\r\n            {detectedLanguage && (\r\n              <div className=\"detection-item\">\r\n                <span className=\"detection-label\">Language:</span>\r\n                <span className=\"detection-value\">{detectedLanguage}</span>\r\n              </div>\r\n            )}\r\n            {detectedState && (\r\n              <div className=\"detection-item\">\r\n                <span className=\"detection-label\">State/Region:</span>\r\n                <span className=\"detection-value\">{detectedState}</span>\r\n              </div>\r\n            )}\r\n            {emergencyType && (\r\n              <div className=\"detection-item\">\r\n                <span className=\"detection-label\">Emergency Type:</span>\r\n                <span className=\"detection-value\">{emergencyType}</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Helpline Numbers */}\r\n      {helplineNumbers.length > 0 && (\r\n        <div className=\"helpline-results\">\r\n          <h3>📞 Emergency Helpline Numbers</h3>\r\n          <div className=\"helpline-list\">\r\n            {helplineNumbers.map(formatHelplineNumber)}\r\n          </div>\r\n          \r\n          <div className=\"emergency-instructions\">\r\n            <h4>🚨 Emergency Instructions:</h4>\r\n            <ul>\r\n              <li>Stay calm and speak clearly</li>\r\n              <li>Provide your exact location</li>\r\n              <li>Describe the emergency situation</li>\r\n              <li>Follow the operator's instructions</li>\r\n              <li>Keep the line open until help arrives</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Quick Emergency Numbers */}\r\n      <div className=\"quick-emergency\">\r\n        <h4>🆘 Quick Emergency Numbers (All India):</h4>\r\n        <div className=\"quick-numbers\">\r\n          <div className=\"quick-number\">\r\n            <span className=\"number\">112</span>\r\n            <span className=\"service\">All Emergencies</span>\r\n          </div>\r\n          <div className=\"quick-number\">\r\n            <span className=\"number\">100</span>\r\n            <span className=\"service\">Police</span>\r\n          </div>\r\n          <div className=\"quick-number\">\r\n            <span className=\"number\">108</span>\r\n            <span className=\"service\">Ambulance</span>\r\n          </div>\r\n          <div className=\"quick-number\">\r\n            <span className=\"number\">101</span>\r\n            <span className=\"service\">Fire</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VoiceHelpline;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AACvE,OAAO,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE7B,MAAMC,aAAa,GAAGA,CAAC;EAAEC;AAAiB,CAAC,KAAK;EAAAC,EAAA;EAAA,IAAAC,qBAAA;EAC9C,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGb,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACc,SAAS,EAAEC,YAAY,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACgB,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EAC5D,MAAM,CAACkB,aAAa,EAAEC,gBAAgB,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACoB,aAAa,EAAEC,gBAAgB,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACsB,eAAe,EAAEC,kBAAkB,CAAC,GAAGvB,QAAQ,CAAC,EAAE,CAAC;EAC1D,MAAM,CAACwB,YAAY,EAAEC,eAAe,CAAC,GAAGzB,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAAC0B,KAAK,EAAEC,QAAQ,CAAC,GAAG3B,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAAC4B,WAAW,EAAEC,cAAc,CAAC,GAAG7B,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAAC8B,gBAAgB,EAAEC,mBAAmB,CAAC,GAAG/B,QAAQ,CAAC,OAAO,CAAC;;EAEjE;EACA,MAAMgC,kBAAkB,GAAG,CACzB;IAAEC,IAAI,EAAE,OAAO;IAAEC,IAAI,EAAE,eAAe;IAAEC,MAAM,EAAE;EAAc,CAAC,EAC/D;IAAEF,IAAI,EAAE,OAAO;IAAEC,IAAI,EAAE,iBAAiB;IAAEC,MAAM,EAAE;EAAY,CAAC,EAC/D;IAAEF,IAAI,EAAE,OAAO;IAAEC,IAAI,EAAE,eAAe;IAAEC,MAAM,EAAE;EAAa,CAAC,EAC9D;IAAEF,IAAI,EAAE,OAAO;IAAEC,IAAI,EAAE,iBAAiB;IAAEC,MAAM,EAAE;EAA2B,CAAC,EAC9E;IAAEF,IAAI,EAAE,OAAO;IAAEC,IAAI,EAAE,iBAAiB;IAAEC,MAAM,EAAE;EAAc,CAAC,EACjE;IAAEF,IAAI,EAAE,OAAO;IAAEC,IAAI,EAAE,oBAAoB;IAAEC,MAAM,EAAE;EAAU,CAAC,EAChE;IAAEF,IAAI,EAAE,OAAO;IAAEC,IAAI,EAAE,iBAAiB;IAAEC,MAAM,EAAE;EAAc,CAAC,EACjE;IAAEF,IAAI,EAAE,OAAO;IAAEC,IAAI,EAAE,iBAAiB;IAAEC,MAAM,EAAE;EAAY,CAAC,EAC/D;IAAEF,IAAI,EAAE,OAAO;IAAEC,IAAI,EAAE,oBAAoB;IAAEC,MAAM,EAAE;EAAS,CAAC,EAC/D;IAAEF,IAAI,EAAE,OAAO;IAAEC,IAAI,EAAE,kBAAkB;IAAEC,MAAM,EAAE;EAAS,CAAC,EAC7D;IAAEF,IAAI,EAAE,OAAO;IAAEC,IAAI,EAAE,aAAa;IAAEC,MAAM,EAAE;EAAW,CAAC,EAC1D;IAAEF,IAAI,EAAE,OAAO;IAAEC,IAAI,EAAE,cAAc;IAAEC,MAAM,EAAE;EAAS,CAAC,CAC1D;;EAED;EACA,MAAMC,2BAA2B,GAAGjC,WAAW,CAAC,MAAM;IACpD,IAAI,CAACkC,MAAM,CAACC,iBAAiB,IAAI,CAACD,MAAM,CAACE,uBAAuB,EAAE;MAChEZ,QAAQ,CAAC,0FAA0F,CAAC;MACpG;IACF;IAEA,MAAMW,iBAAiB,GAAGD,MAAM,CAACC,iBAAiB,IAAID,MAAM,CAACE,uBAAuB;IACpF,MAAMC,mBAAmB,GAAG,IAAIF,iBAAiB,CAAC,CAAC;IAEnDE,mBAAmB,CAACC,UAAU,GAAG,KAAK;IACtCD,mBAAmB,CAACE,cAAc,GAAG,KAAK;IAC1CF,mBAAmB,CAACG,IAAI,GAAGb,gBAAgB;IAC3CU,mBAAmB,CAACI,eAAe,GAAG,CAAC;IAEvCJ,mBAAmB,CAACK,OAAO,GAAG,MAAM;MAClChC,cAAc,CAAC,IAAI,CAAC;MACpBc,QAAQ,CAAC,EAAE,CAAC;MACZmB,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAC;IAC3C,CAAC;IAEDP,mBAAmB,CAACQ,QAAQ,GAAIC,KAAK,IAAK;MACxC,MAAMC,UAAU,GAAGD,KAAK,CAACE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACD,UAAU;MACjDJ,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEG,UAAU,CAAC;MAC5CnC,YAAY,CAACmC,UAAU,CAAC;MACxBE,iBAAiB,CAACF,UAAU,CAAC;IAC/B,CAAC;IAEDV,mBAAmB,CAACa,OAAO,GAAIJ,KAAK,IAAK;MACvCH,OAAO,CAACpB,KAAK,CAAC,2BAA2B,EAAEuB,KAAK,CAACvB,KAAK,CAAC;MACvDC,QAAQ,CAAC,4BAA4BsB,KAAK,CAACvB,KAAK,qBAAqB,CAAC;MACtEb,cAAc,CAAC,KAAK,CAAC;IACvB,CAAC;IAED2B,mBAAmB,CAACc,KAAK,GAAG,MAAM;MAChCzC,cAAc,CAAC,KAAK,CAAC;MACrBiC,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;IACzC,CAAC;IAEDlB,cAAc,CAACW,mBAAmB,CAAC;EACrC,CAAC,EAAE,CAACV,gBAAgB,CAAC,CAAC;EAEtB5B,SAAS,CAAC,MAAM;IACdkC,2BAA2B,CAAC,CAAC;EAC/B,CAAC,EAAE,CAACA,2BAA2B,CAAC,CAAC;EAEjC,MAAMmB,cAAc,GAAGA,CAAA,KAAM;IAC3B,IAAI,CAAC3B,WAAW,EAAE;MAChBD,QAAQ,CAAC,8DAA8D,CAAC;MACxE;IACF;IAEAZ,YAAY,CAAC,EAAE,CAAC;IAChBE,mBAAmB,CAAC,EAAE,CAAC;IACvBE,gBAAgB,CAAC,EAAE,CAAC;IACpBE,gBAAgB,CAAC,EAAE,CAAC;IACpBE,kBAAkB,CAAC,EAAE,CAAC;IACtBI,QAAQ,CAAC,EAAE,CAAC;IAEZ,IAAI;MACFC,WAAW,CAAC4B,KAAK,CAAC,CAAC;IACrB,CAAC,CAAC,OAAO9B,KAAK,EAAE;MACdoB,OAAO,CAACpB,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MAClDC,QAAQ,CAAC,8CAA8C,CAAC;IAC1D;EACF,CAAC;EAED,MAAM8B,aAAa,GAAGA,CAAA,KAAM;IAC1B,IAAI7B,WAAW,IAAIhB,WAAW,EAAE;MAC9BgB,WAAW,CAAC8B,IAAI,CAAC,CAAC;IACpB;EACF,CAAC;EAED,MAAMN,iBAAiB,GAAG,MAAOO,IAAI,IAAK;IACxC,IAAI,CAACA,IAAI,CAACC,IAAI,CAAC,CAAC,EAAE;MAChBjC,QAAQ,CAAC,8CAA8C,CAAC;MACxD;IACF;IAEAF,eAAe,CAAC,IAAI,CAAC;IACrBE,QAAQ,CAAC,EAAE,CAAC;IAEZ,IAAI;MACF;MACA,MAAMkC,QAAQ,GAAG,MAAMC,KAAK,CAAC,uDAAuD,EAAE;QACpFC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnBR,IAAI,EAAEA,IAAI;UACVS,aAAa,EAAEtC;QACjB,CAAC;MACH,CAAC,CAAC;MAEF,IAAI,CAAC+B,QAAQ,CAACQ,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,+BAA+B,CAAC;MAClD;MAEA,MAAMC,IAAI,GAAG,MAAMV,QAAQ,CAACW,IAAI,CAAC,CAAC;MAElC,IAAID,IAAI,CAACE,OAAO,EAAE;QAChBxD,mBAAmB,CAACsD,IAAI,CAACvD,gBAAgB,CAAC;QAC1CG,gBAAgB,CAACoD,IAAI,CAACrD,aAAa,CAAC;QACpCG,gBAAgB,CAACkD,IAAI,CAACnD,aAAa,CAAC;QACpCG,kBAAkB,CAACgD,IAAI,CAACjD,eAAe,CAAC;;QAExC;QACA,IAAIb,gBAAgB,EAAE;UACpBA,gBAAgB,CAAC;YACfiE,YAAY,EAAEf,IAAI;YAClB3C,gBAAgB,EAAEuD,IAAI,CAACvD,gBAAgB;YACvCE,aAAa,EAAEqD,IAAI,CAACrD,aAAa;YACjCE,aAAa,EAAEmD,IAAI,CAACnD,aAAa;YACjCE,eAAe,EAAEiD,IAAI,CAACjD,eAAe;YACrCqD,kBAAkB,EAAEJ,IAAI,CAACI;UAC3B,CAAC,CAAC;QACJ;MACF,CAAC,MAAM;QACLhD,QAAQ,CAAC4C,IAAI,CAACK,OAAO,IAAI,+BAA+B,CAAC;MAC3D;IACF,CAAC,CAAC,OAAOlD,KAAK,EAAE;MACdoB,OAAO,CAACpB,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MAC/CC,QAAQ,CAAC,qFAAqF,CAAC;IACjG,CAAC,SAAS;MACRF,eAAe,CAAC,KAAK,CAAC;IACxB;EACF,CAAC;EAED,MAAMoD,oBAAoB,GAAIC,CAAC,IAAK;IAClC,MAAMC,WAAW,GAAGD,CAAC,CAACE,MAAM,CAACC,KAAK;IAClClD,mBAAmB,CAACgD,WAAW,CAAC;EAClC,CAAC;EAED,MAAMG,gBAAgB,GAAIC,IAAI,IAAK;IACjC,MAAMC,KAAK,GAAG;MACZ,QAAQ,EAAE,OAAO;MACjB,SAAS,EAAE,IAAI;MACf,MAAM,EAAE,IAAI;MACZ,OAAO,EAAE,OAAO;MAChB,OAAO,EAAE,IAAI;MACb,SAAS,EAAE,IAAI;MACf,UAAU,EAAE,IAAI;MAChB,UAAU,EAAE;IACd,CAAC;IACD,OAAOA,KAAK,CAACD,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEE,WAAW,CAAC,CAAC,CAAC,IAAI,IAAI;EAC3C,CAAC;EAED,MAAMC,oBAAoB,GAAIC,QAAQ,IAAK;IACzC,oBACElF,OAAA;MAA2BmF,SAAS,EAAC,eAAe;MAAAC,QAAA,gBAClDpF,OAAA;QAAKmF,SAAS,EAAC,eAAe;QAAAC,QAAA,EAC3BP,gBAAgB,CAACK,QAAQ,CAACJ,IAAI;MAAC;QAAAO,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7B,CAAC,eACNxF,OAAA;QAAKmF,SAAS,EAAC,kBAAkB;QAAAC,QAAA,gBAC/BpF,OAAA;UAAKmF,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAEF,QAAQ,CAACrD;QAAI;UAAAwD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACpDxF,OAAA;UAAKmF,SAAS,EAAC,iBAAiB;UAAAC,QAAA,EAAEF,QAAQ,CAACO;QAAM;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,EACvDN,QAAQ,CAACQ,WAAW,iBACnB1F,OAAA;UAAKmF,SAAS,EAAC,sBAAsB;UAAAC,QAAA,EAAEF,QAAQ,CAACQ;QAAW;UAAAL,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAClE;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eACNxF,OAAA;QAAKmF,SAAS,EAAC,uBAAuB;QAAAC,QAAA,EACnCF,QAAQ,CAACS,YAAY,IAAI;MAAM;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7B,CAAC;IAAA,GAbEN,QAAQ,CAACO,MAAM;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAcpB,CAAC;EAEV,CAAC;EAED,oBACExF,OAAA;IAAKmF,SAAS,EAAC,0BAA0B;IAAAC,QAAA,gBACvCpF,OAAA;MAAKmF,SAAS,EAAC,uBAAuB;MAAAC,QAAA,gBACpCpF,OAAA;QAAAoF,QAAA,EAAI;MAA2B;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACpCxF,OAAA;QAAAoF,QAAA,EAAG;MAA8D;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClE,CAAC,eAGNxF,OAAA;MAAKmF,SAAS,EAAC,oBAAoB;MAAAC,QAAA,gBACjCpF,OAAA;QAAO4F,OAAO,EAAC,iBAAiB;QAAAR,QAAA,EAAC;MAA+C;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACxFxF,OAAA;QACE6F,EAAE,EAAC,iBAAiB;QACpBjB,KAAK,EAAEnD,gBAAiB;QACxBqE,QAAQ,EAAEtB,oBAAqB;QAC/BuB,QAAQ,EAAExF,WAAW,IAAIY,YAAa;QACtCgE,SAAS,EAAC,mBAAmB;QAAAC,QAAA,EAE5BzD,kBAAkB,CAACqE,GAAG,CAAE1D,IAAI,iBAC3BtC,OAAA;UAAwB4E,KAAK,EAAEtC,IAAI,CAACV,IAAK;UAAAwD,QAAA,EACtC9C,IAAI,CAACT;QAAI,GADCS,IAAI,CAACV,IAAI;UAAAyD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEd,CACT;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eAGNxF,OAAA;MAAKmF,SAAS,EAAC,gBAAgB;MAAAC,QAAA,gBAC7BpF,OAAA;QACEmF,SAAS,EAAE,gBAAgB5E,WAAW,GAAG,WAAW,GAAG,EAAE,EAAG;QAC5D0F,OAAO,EAAE1F,WAAW,GAAG6C,aAAa,GAAGF,cAAe;QACtD6C,QAAQ,EAAE5E,YAAa;QAAAiE,QAAA,EAEtB7E,WAAW,gBACVP,OAAA,CAAAE,SAAA;UAAAkF,QAAA,gBACEpF,OAAA;YAAMmF,SAAS,EAAC,iBAAiB;YAAAC,QAAA,EAAC;UAAE;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,kBAE7C;QAAA,eAAE,CAAC,gBAEHxF,OAAA,CAAAE,SAAA;UAAAkF,QAAA,gBACEpF,OAAA;YAAMmF,SAAS,EAAC,iBAAiB;YAAAC,QAAA,EAAC;UAAE;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,qBAE7C;QAAA,eAAE;MACH;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACK,CAAC,EAERjF,WAAW,iBACVP,OAAA;QAAKmF,SAAS,EAAC,kBAAkB;QAAAC,QAAA,gBAC/BpF,OAAA;UAAMmF,SAAS,EAAC,qBAAqB;UAAAC,QAAA,EAAC;QAAY;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACzDxF,OAAA;UAAAoF,QAAA,GAAG,wCAAsC,GAAA9E,qBAAA,GAACqB,kBAAkB,CAACuE,IAAI,CAAC5D,IAAI,IAAIA,IAAI,CAACV,IAAI,KAAKH,gBAAgB,CAAC,cAAAnB,qBAAA,uBAA/DA,qBAAA,CAAiEuB,IAAI;QAAA;UAAAwD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjH,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,EAGLrE,YAAY,iBACXnB,OAAA;MAAKmF,SAAS,EAAC,mBAAmB;MAAAC,QAAA,gBAChCpF,OAAA;QAAKmF,SAAS,EAAC;MAAS;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAC/BxF,OAAA;QAAAoF,QAAA,EAAG;MAA2D;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC/D,CACN,EAGAnE,KAAK,iBACJrB,OAAA;MAAKmF,SAAS,EAAC,eAAe;MAAAC,QAAA,gBAC5BpF,OAAA;QAAMmF,SAAS,EAAC,YAAY;QAAAC,QAAA,EAAC;MAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,EACrCnE,KAAK;IAAA;MAAAgE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAGA/E,SAAS,iBACRT,OAAA;MAAKmF,SAAS,EAAC,qBAAqB;MAAAC,QAAA,gBAClCpF,OAAA;QAAAoF,QAAA,EAAI;MAAqB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC9BxF,OAAA;QAAKmF,SAAS,EAAC,YAAY;QAAAC,QAAA,EAAE3E;MAAS;QAAA4E,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1C,CACN,EAGA,CAAC7E,gBAAgB,IAAIE,aAAa,IAAIE,aAAa,kBAClDf,OAAA;MAAKmF,SAAS,EAAC,mBAAmB;MAAAC,QAAA,gBAChCpF,OAAA;QAAAoF,QAAA,EAAI;MAAqB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC9BxF,OAAA;QAAKmF,SAAS,EAAC,gBAAgB;QAAAC,QAAA,GAC5BzE,gBAAgB,iBACfX,OAAA;UAAKmF,SAAS,EAAC,gBAAgB;UAAAC,QAAA,gBAC7BpF,OAAA;YAAMmF,SAAS,EAAC,iBAAiB;YAAAC,QAAA,EAAC;UAAS;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAClDxF,OAAA;YAAMmF,SAAS,EAAC,iBAAiB;YAAAC,QAAA,EAAEzE;UAAgB;YAAA0E,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxD,CACN,EACA3E,aAAa,iBACZb,OAAA;UAAKmF,SAAS,EAAC,gBAAgB;UAAAC,QAAA,gBAC7BpF,OAAA;YAAMmF,SAAS,EAAC,iBAAiB;YAAAC,QAAA,EAAC;UAAa;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACtDxF,OAAA;YAAMmF,SAAS,EAAC,iBAAiB;YAAAC,QAAA,EAAEvE;UAAa;YAAAwE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrD,CACN,EACAzE,aAAa,iBACZf,OAAA;UAAKmF,SAAS,EAAC,gBAAgB;UAAAC,QAAA,gBAC7BpF,OAAA;YAAMmF,SAAS,EAAC,iBAAiB;YAAAC,QAAA,EAAC;UAAe;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACxDxF,OAAA;YAAMmF,SAAS,EAAC,iBAAiB;YAAAC,QAAA,EAAErE;UAAa;YAAAsE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrD,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAGAvE,eAAe,CAACkF,MAAM,GAAG,CAAC,iBACzBnG,OAAA;MAAKmF,SAAS,EAAC,kBAAkB;MAAAC,QAAA,gBAC/BpF,OAAA;QAAAoF,QAAA,EAAI;MAA6B;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACtCxF,OAAA;QAAKmF,SAAS,EAAC,eAAe;QAAAC,QAAA,EAC3BnE,eAAe,CAAC+E,GAAG,CAACf,oBAAoB;MAAC;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvC,CAAC,eAENxF,OAAA;QAAKmF,SAAS,EAAC,wBAAwB;QAAAC,QAAA,gBACrCpF,OAAA;UAAAoF,QAAA,EAAI;QAA0B;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACnCxF,OAAA;UAAAoF,QAAA,gBACEpF,OAAA;YAAAoF,QAAA,EAAI;UAA2B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACpCxF,OAAA;YAAAoF,QAAA,EAAI;UAA2B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACpCxF,OAAA;YAAAoF,QAAA,EAAI;UAAgC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACzCxF,OAAA;YAAAoF,QAAA,EAAI;UAAkC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC3CxF,OAAA;YAAAoF,QAAA,EAAI;UAAqC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5C,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,eAGDxF,OAAA;MAAKmF,SAAS,EAAC,iBAAiB;MAAAC,QAAA,gBAC9BpF,OAAA;QAAAoF,QAAA,EAAI;MAAuC;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAChDxF,OAAA;QAAKmF,SAAS,EAAC,eAAe;QAAAC,QAAA,gBAC5BpF,OAAA;UAAKmF,SAAS,EAAC,cAAc;UAAAC,QAAA,gBAC3BpF,OAAA;YAAMmF,SAAS,EAAC,QAAQ;YAAAC,QAAA,EAAC;UAAG;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACnCxF,OAAA;YAAMmF,SAAS,EAAC,SAAS;YAAAC,QAAA,EAAC;UAAe;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7C,CAAC,eACNxF,OAAA;UAAKmF,SAAS,EAAC,cAAc;UAAAC,QAAA,gBAC3BpF,OAAA;YAAMmF,SAAS,EAAC,QAAQ;YAAAC,QAAA,EAAC;UAAG;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACnCxF,OAAA;YAAMmF,SAAS,EAAC,SAAS;YAAAC,QAAA,EAAC;UAAM;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpC,CAAC,eACNxF,OAAA;UAAKmF,SAAS,EAAC,cAAc;UAAAC,QAAA,gBAC3BpF,OAAA;YAAMmF,SAAS,EAAC,QAAQ;YAAAC,QAAA,EAAC;UAAG;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACnCxF,OAAA;YAAMmF,SAAS,EAAC,SAAS;YAAAC,QAAA,EAAC;UAAS;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvC,CAAC,eACNxF,OAAA;UAAKmF,SAAS,EAAC,cAAc;UAAAC,QAAA,gBAC3BpF,OAAA;YAAMmF,SAAS,EAAC,QAAQ;YAAAC,QAAA,EAAC;UAAG;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACnCxF,OAAA;YAAMmF,SAAS,EAAC,SAAS;YAAAC,QAAA,EAAC;UAAI;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACnF,EAAA,CAzVIF,aAAa;AAAAiG,EAAA,GAAbjG,aAAa;AA2VnB,eAAeA,aAAa;AAAC,IAAAiG,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}